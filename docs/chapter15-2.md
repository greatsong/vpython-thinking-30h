# Ch.15-B â€” ìµœì¢… í”„ë¡œì íŠ¸ B: ë¨¹ê³  ë¨¹íˆëŠ” êµ¬ ê²Œì„

**Part 5: ì„¤ê³„ì™€ ì™„ì„±** | í•µì‹¬: í‚¤ë³´ë“œ ì¡°ì¢… + ì¶©ëŒ ê°ì§€ + ì¡°ê±´ ë¶„ê¸°

---

## ğŸ¬ ì˜¤ëŠ˜ì˜ ë¯¸ì…˜

ì—¬ëŸ¬ë¶„ì€ í˜¹ì‹œ **Agar.io**ë¼ëŠ” ê²Œì„ì„ ì•Œê³  ìˆë‚˜ìš”?

í™”ë©´ì— ì‘ì€ êµ¬ê°€ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì´ ì´ êµ¬ë¥¼ ì¡°ì¢…í•©ë‹ˆë‹¤.
ë¨¹ì´(ì•„ì£¼ ì‘ì€ êµ¬)ë¥¼ ë¨¹ìœ¼ë©´ ì¡°ê¸ˆì”© ì»¤ì§€ê³ , ë‹¤ë¥¸ ì  êµ¬ì™€ ë§Œë‚˜ë©´ â€” **ë” í° ìª½ì´ ì‘ì€ ìª½ì„ ë¨¹ì–´ë²„ë¦½ë‹ˆë‹¤.**

ë‹¨ìˆœí•œ ê·œì¹™ì´ì§€ë§Œ, í”Œë ˆì´í• ìˆ˜ë¡ ê¸´ì¥ê°ì´ ìƒê¹ë‹ˆë‹¤.
"ì € ë¹¨ê°„ êµ¬ë³´ë‹¤ ë‚´ê°€ ë” í´ê¹Œ? ë¨¹ì„ ìˆ˜ ìˆì„ê¹Œ, ë„ë§ì³ì•¼ í• ê¹Œ?"

ì˜¤ëŠ˜ì˜ ë¯¸ì…˜: **êµ¬ë¥¼ ì¡°ì¢…í•˜ë©° ë¨¹ì´ë¥¼ ë¨¹ê³ , ì ë³´ë‹¤ ì»¤ì§€ê³ , ë¨¹íˆì§€ ì•ŠëŠ” ê²Œì„ì„ ë§Œë“¤ê¸°.**

Ch.8ì—ì„œ ë°°ìš´ í‚¤ë³´ë“œ ì¡°ì¢…, Ch.9ì˜ ì¶©ëŒ ê°ì§€, Ch.7ì˜ ì¡°ê±´ë¬¸ì´ ëª¨ë‘ í•©ì³ì§‘ë‹ˆë‹¤.

---

## ğŸ“‹ ì„¤ê³„í•˜ê¸°

### ì„¸ ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ì •ë¦¬

**ë¬´ì—‡ì´ ì›€ì§ì´ë‚˜ìš”?**
í”Œë ˆì´ì–´ êµ¬ê°€ í‚¤ë³´ë“œë¡œ ì›€ì§ì´ê³ , ì  êµ¬ê°€ ëœë¤ìœ¼ë¡œ ëŒì•„ë‹¤ë‹Œë‹¤.

**ì‚¬ìš©ìê°€ ë­˜ ì¡°ì ˆí•˜ë‚˜ìš”?**
WASD ë˜ëŠ” ë°©í–¥í‚¤ë¡œ í”Œë ˆì´ì–´ë¥¼ ì´ë™í•œë‹¤.

**ì–´ë–¤ ê·œì¹™ì´ ì ìš©ë˜ë‚˜ìš”?**
ë¨¹ì´ë¥¼ ë¨¹ìœ¼ë©´ í”Œë ˆì´ì–´ê°€ ì»¤ì§„ë‹¤. ì ê³¼ ë¶€ë”ªíˆë©´ í° ìª½ì´ ì‘ì€ ìª½ì„ ë¨¹ëŠ”ë‹¤. í”Œë ˆì´ì–´ê°€ ë¨¹íˆë©´ ê²Œì„ ì˜¤ë²„.

### ë¬¼ì²´ ëª©ë¡

- **í”Œë ˆì´ì–´** (sphere, í•˜ëŠ˜ìƒ‰, í‚¤ë³´ë“œë¡œ ì¡°ì¢…)
- **ë¨¹ì´ 30ê°œ** (sphere, ì•„ì£¼ ì‘ê³  ì•Œë¡ë‹¬ë¡, ë¨¹ìœ¼ë©´ ë¦¬ìŠ¤í°)
- **ì  5ë§ˆë¦¬** (sphere, ë‹¤ì–‘í•œ í¬ê¸°, ëœë¤ ì´ë™)
- **ê²½ê¸°ì¥ í…Œë‘ë¦¬** (curve, í°ìƒ‰ ì§ì‚¬ê°í˜•)
- **ì ìˆ˜ ë¼ë²¨** (label)
- **ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼** (button)

### ì‚¬ìš©í•˜ëŠ” ê°œë…

- **sphere** â€” í”Œë ˆì´ì–´, ë¨¹ì´, ì 
- **keysdown()** â€” í”Œë ˆì´ì–´ ì´ë™ (Ch.8)
- **mag()** â€” ì¶©ëŒ ê°ì§€ (Ch.9)
- **if/elif/else** â€” í¬ê¸° ë¹„êµ â†’ ë¨¹ê¸°/ë¨¹íˆê¸° (Ch.7)
- **for + ë¦¬ìŠ¤íŠ¸** â€” ë¨¹ì´ 30ê°œ, ì  5ë§ˆë¦¬ ê´€ë¦¬ (Ch.11-12)
- **random()** â€” ë¨¹ì´/ì  ìœ„ì¹˜, ì  ì´ë™ ë°©í–¥ (Ch.5)
- **í•¨ìˆ˜** â€” ë¨¹ì´ ìƒì„±, ì  ìƒì„± (Ch.13)
- **button** â€” ë‹¤ì‹œ ì‹œì‘ (Ch.14)
- **ì• ë‹ˆë©”ì´ì…˜** â€” while True + rate() (Ch.6)

---

## ğŸ› ï¸ ë‹¨ê³„ë³„ êµ¬í˜„ ê°€ì´ë“œ

### Step 1: ë¬´ëŒ€ ë§Œë“¤ê¸° â€” ê²½ê¸°ì¥ê³¼ í”Œë ˆì´ì–´

ë°°ê²½ì„ ì–´ë‘¡ê²Œ ì„¤ì •í•˜ê³ , ê²½ê¸°ì¥ í…Œë‘ë¦¬ì™€ í”Œë ˆì´ì–´ë¥¼ ë§Œë“­ë‹ˆë‹¤.

```python
GlowScript 3.2 VPython

scene.background = vector(0.05, 0.05, 0.1)
scene.caption = "ë¨¹ê³  ë¨¹íˆëŠ” êµ¬ ê²Œì„\n"

# ê²½ê¸°ì¥ í¬ê¸°
L = 15

# ê²½ê¸°ì¥ í…Œë‘ë¦¬
curve(pos=[
    vector(-L,-L,0), vector(L,-L,0),
    vector(L,L,0), vector(-L,L,0),
    vector(-L,-L,0)],
    color=color.white)

# í”Œë ˆì´ì–´
player = sphere(pos=vector(0,0,0),
    radius=0.5,
    color=color.cyan)

speed = 0.2
```

ì‹¤í–‰í•˜ë©´ ì–´ë‘ìš´ ë°°ê²½ì— í°ìƒ‰ í…Œë‘ë¦¬ ê²½ê¸°ì¥, ê·¸ë¦¬ê³  ì¤‘ì•™ì— í•˜ëŠ˜ìƒ‰ êµ¬ê°€ ë³´ì…ë‹ˆë‹¤. ì•„ì§ ì›€ì§ì´ì§€ëŠ” ì•Šì•„ìš”.

### Step 2: ë¨¹ì´ ë¿Œë¦¬ê¸° â€” í•¨ìˆ˜ + ë¦¬ìŠ¤íŠ¸ + ëœë¤

ê²½ê¸°ì¥ ê³³ê³³ì— ì•Œë¡ë‹¬ë¡í•œ ë¨¹ì´ë¥¼ ë¿Œë¦½ë‹ˆë‹¤.

```python
foods = []

def create_food():
    f = sphere(
        pos=vector(
            random()*2*L - L,
            random()*2*L - L, 0),
        radius=0.15,
        color=vector(
            random(), random(), random()))
    foods.append(f)

for i in range(30):
    create_food()
```

`random()*2*L - L`ì€ -15ì—ì„œ +15 ì‚¬ì´ì˜ ëœë¤ ì¢Œí‘œë¥¼ ë§Œë“­ë‹ˆë‹¤. ë¨¹ì´ 30ê°œê°€ ê²½ê¸°ì¥ ê³³ê³³ì— í©ì–´ì§‘ë‹ˆë‹¤.

!!! tip "ë¨¹ì´ ìˆ˜ ë°”ê¾¸ê¸°"

    `range(30)`ì˜ ìˆ«ìë¥¼ ë°”ê¾¸ë©´ ë¨¹ì´ ìˆ˜ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. 50ê°œ, 100ê°œë„ ê°€ëŠ¥í•´ìš”!

### Step 3: í‚¤ë³´ë“œ ì¡°ì¢… â€” ì´ë™ê³¼ ê²½ê³„

Ch.8ì—ì„œ ë°°ìš´ `keysdown()`ìœ¼ë¡œ í”Œë ˆì´ì–´ë¥¼ ì›€ì§ì…ë‹ˆë‹¤.

```python
while True:
    rate(60)

    keys = keysdown()
    if 'd' in keys or 'right' in keys:
        player.pos.x += speed
    if 'a' in keys or 'left' in keys:
        player.pos.x -= speed
    if 'w' in keys or 'up' in keys:
        player.pos.y += speed
    if 's' in keys or 'down' in keys:
        player.pos.y -= speed

    # ê²½ê¸°ì¥ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šê²Œ
    if player.pos.x > L:
        player.pos.x = L
    if player.pos.x < -L:
        player.pos.x = -L
    if player.pos.y > L:
        player.pos.y = L
    if player.pos.y < -L:
        player.pos.y = -L
```

ì‹¤í–‰í•´ ë³´ì„¸ìš”! WASD ë˜ëŠ” ë°©í–¥í‚¤ë¡œ í•˜ëŠ˜ìƒ‰ êµ¬ë¥¼ ì›€ì§ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½ê¸°ì¥ í…Œë‘ë¦¬ ë°–ìœ¼ë¡œëŠ” ë‚˜ê°ˆ ìˆ˜ ì—†ì–´ìš”.

### Step 4: ë¨¹ì´ ë¨¹ê¸° â€” ì¶©ëŒ ê°ì§€ + ì„±ì¥

ì´ì œ í•µì‹¬ì…ë‹ˆë‹¤! í”Œë ˆì´ì–´ê°€ ë¨¹ì´ì— ë‹¿ìœ¼ë©´ ë¨¹ì´ë¥¼ ë¨¹ê³  ì¡°ê¸ˆ ì»¤ì§‘ë‹ˆë‹¤.

ë©”ì¸ ë£¨í”„ ì•ˆì— ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (Step 3ì˜ `while True` ì•ˆì—)

```python
    # ë¨¹ì´ ì¶©ëŒ ê²€ì‚¬
    for f in foods:
        dist = mag(player.pos - f.pos)
        if dist < player.radius + f.radius:
            # ë¨¹ì—ˆë‹¤! ì»¤ì§€ê¸°
            player.radius += 0.02
            # ë¨¹ì´ë¥¼ ìƒˆ ìœ„ì¹˜ë¡œ ë¦¬ìŠ¤í°
            f.pos = vector(
                random()*2*L - L,
                random()*2*L - L, 0)
```

`mag(player.pos - f.pos)`ëŠ” ë‘ êµ¬ ì‚¬ì´ì˜ ê±°ë¦¬ì…ë‹ˆë‹¤ (Ch.9ì—ì„œ ë°°ì› ì£ ). ê±°ë¦¬ê°€ ë‘ êµ¬ì˜ ë°˜ì§€ë¦„ í•©ë³´ë‹¤ ì‘ìœ¼ë©´ ì¶©ëŒ!

ì‹¤í–‰í•˜ë©´ ë¨¹ì´ë¥¼ ë¨¹ì„ ë•Œë§ˆë‹¤ í”Œë ˆì´ì–´ê°€ ì¡°ê¸ˆì”© ì»¤ì§€ëŠ” ê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Step 5: ì  ë“±ì¥ â€” AI ê²½ìŸì

ê²Œì„ì— ê¸´ì¥ê°ì„ ë”í•©ì‹œë‹¤. ì  êµ¬ë“¤ì´ ë“±ì¥í•´ ê²½ê¸°ì¥ì„ ëŒì•„ë‹¤ë‹™ë‹ˆë‹¤.

`while True` ìœ„ì— ì  ìƒì„± ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```python
enemies = []
enemy_dirs = []

def create_enemy():
    e = sphere(
        pos=vector(
            random()*2*L - L,
            random()*2*L - L, 0),
        radius=0.3 + random()*0.7,
        color=vector(
            random()*0.5 + 0.5,
            random()*0.3,
            random()*0.3))
    enemies.append(e)
    dx = random()*0.1 - 0.05
    dy = random()*0.1 - 0.05
    enemy_dirs.append(vector(dx, dy, 0))

for i in range(5):
    create_enemy()
```

ì ì˜ ë°˜ì§€ë¦„ì€ `0.3 + random()*0.7`ì´ë¯€ë¡œ 0.3~1.0 ì‚¬ì´ì…ë‹ˆë‹¤. í”Œë ˆì´ì–´ ì‹œì‘ í¬ê¸°(0.5)ë³´ë‹¤ ì‘ì„ ìˆ˜ë„, í´ ìˆ˜ë„ ìˆì–´ìš”!

ë©”ì¸ ë£¨í”„ ì•ˆì— ì  ì´ë™ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```python
    # ì  ì´ë™
    for i in range(len(enemies)):
        if not enemies[i].visible:
            continue
        enemies[i].pos += enemy_dirs[i]
        # ë²½ì— ë‹¿ìœ¼ë©´ ë°©í–¥ ì „í™˜
        if abs(enemies[i].pos.x) > L:
            enemy_dirs[i].x = -enemy_dirs[i].x
        if abs(enemies[i].pos.y) > L:
            enemy_dirs[i].y = -enemy_dirs[i].y
```

ê·¸ë¦¬ê³  ì ê³¼ì˜ ì¶©ëŒì„ ê²€ì‚¬í•©ë‹ˆë‹¤. **ì—¬ê¸°ê°€ Agar.ioì˜ í•µì‹¬ ê·œì¹™ì…ë‹ˆë‹¤!**

```python
    # ì ê³¼ ì¶©ëŒ â€” í¬ê¸° ë¹„êµ!
    for i in range(len(enemies)):
        if not enemies[i].visible:
            continue
        dist = mag(player.pos - enemies[i].pos)
        if dist < player.radius + enemies[i].radius:
            if player.radius > enemies[i].radius:
                # ë‚´ê°€ ë” í¬ë‹¤ â†’ ë¨¹ê¸°!
                player.radius += enemies[i].radius * 0.2
                enemies[i].visible = False
            else:
                # ì ì´ ë” í¬ë‹¤ â†’ ë¨¹í˜! ê²Œì„ ì˜¤ë²„
                game_over = True
                player.color = color.red
```

`if player.radius > enemies[i].radius` â€” ì´ í•œ ì¤„ì´ ê²Œì„ì˜ ìš´ëª…ì„ ê²°ì •í•©ë‹ˆë‹¤!

### Step 6: ë§ˆë¬´ë¦¬ â€” ì ìˆ˜, ê²Œì„ ì˜¤ë²„, ì¬ì‹œì‘

ì ìˆ˜ í‘œì‹œì™€ ê²Œì„ ì˜¤ë²„ ì²˜ë¦¬, ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

`while True` ìœ„ì— ì¶”ê°€í•©ë‹ˆë‹¤.

```python
score = 0
game_over = False

score_label = label(
    pos=vector(0, L+2, 0),
    text='ì ìˆ˜: 0',
    height=18,
    color=color.white,
    box=False)

def restart(b):
    global game_over, score
    game_over = False
    score = 0
    player.radius = 0.5
    player.pos = vector(0,0,0)
    player.color = color.cyan
    score_label.text = 'ì ìˆ˜: 0'
    # ì  ë¦¬ìŠ¤í°
    for i in range(len(enemies)):
        enemies[i].visible = True
        enemies[i].pos = vector(
            random()*2*L - L,
            random()*2*L - L, 0)

button(text="ë‹¤ì‹œ ì‹œì‘", bind=restart)
```

ë©”ì¸ ë£¨í”„ì—ì„œ ì ìˆ˜ ì—…ë°ì´íŠ¸ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

ë¨¹ì´ë¥¼ ë¨¹ì„ ë•Œ:

```python
            score += 1
            score_label.text = 'ì ìˆ˜: ' + str(score)
```

ì ì„ ë¨¹ì„ ë•Œ:

```python
                score += 10
                score_label.text = 'ì ìˆ˜: ' + str(score)
```

ê²Œì„ ì˜¤ë²„ì¼ ë•Œ:

```python
    if game_over:
        score_label.text = 'ê²Œì„ ì˜¤ë²„! ì ìˆ˜: ' + str(score)
        continue
```

---

## ğŸ› í”í•œ ë¬¸ì œì™€ í•´ê²°

!!! bug "í”Œë ˆì´ì–´ê°€ ì•ˆ ì›€ì§ì—¬ìš”!"

    `keysdown()`ì„ `while True` ë£¨í”„ **ì•ˆì—ì„œ** ë§¤ í”„ë ˆì„ í˜¸ì¶œí•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ë£¨í”„ ë°–ì—ì„œ í•œ ë²ˆë§Œ í˜¸ì¶œí•˜ë©´ ì²« í”„ë ˆì„ì˜ í‚¤ ìƒíƒœë§Œ ì½ìŠµë‹ˆë‹¤.

!!! bug "ë¨¹ì´ë¥¼ ë¨¹ì–´ë„ ì»¤ì§€ì§€ ì•Šì•„ìš”!"

    `player.radius += 0.02`ì—ì„œ `+=`ì¸ì§€ í™•ì¸í•˜ì„¸ìš”. `=`ì„ ì“°ë©´ ë§¤ë²ˆ 0.02ë¡œ ê³ ì •ë©ë‹ˆë‹¤. ë˜í•œ ì¶©ëŒ ì¡°ê±´ `dist < player.radius + f.radius`ì—ì„œ ë¶€ë“±í˜¸ ë°©í–¥ì´ ë§ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

!!! bug "ì ê³¼ ë¶€ë”ªí˜€ë„ ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚˜ìš”!"

    `enemies[i].visible`ì„ í™•ì¸í•˜ëŠ” `if not enemies[i].visible: continue`ê°€ ì¶©ëŒ ê²€ì‚¬ **ì•ì—** ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì´ë¯¸ ë¨¹ì€ ì (visible=False)ì€ ê±´ë„ˆë›°ì–´ì•¼ í•©ë‹ˆë‹¤.

!!! bug "ê²Œì„ ì˜¤ë²„ í›„ ë‹¤ì‹œ ì‹œì‘ì´ ì•ˆ ë¼ìš”!"

    `restart` í•¨ìˆ˜ ì•ˆì— `global game_over, score`ë¥¼ ë„£ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. í•¨ìˆ˜ ì•ˆì—ì„œ ì „ì—­ ë³€ìˆ˜ë¥¼ ë°”ê¾¸ë ¤ë©´ `global` ì„ ì–¸ì´ í•„ìš”í•©ë‹ˆë‹¤.

!!! bug "ì ì´ í•œìª½ìœ¼ë¡œë§Œ ì ë ¤ìš”!"

    `enemy_dirs`ì˜ x, y ê°’ì´ ì–‘ìˆ˜ë§Œ ë˜ê³  ìˆì§€ ì•Šì€ì§€ í™•ì¸í•˜ì„¸ìš”. `random()*0.1 - 0.05`ì²˜ëŸ¼ **- 0.05**ë¥¼ ë¹¼ì•¼ ìŒìˆ˜ ë°©í–¥ë„ ë‚˜ì˜µë‹ˆë‹¤.

---

## ğŸ“ ì™„ì„± ì˜ˆì‹œ

ë¬´ëŒ€ì™€ í”Œë ˆì´ì–´ë¥¼ ë§Œë“­ë‹ˆë‹¤.

```python
GlowScript 3.2 VPython

# WHAT: ì–´ë‘ìš´ ë°°ê²½ì˜ ê²½ê¸°ì¥
scene.background = vector(0.05, 0.05, 0.1)
scene.caption = "ë¨¹ê³  ë¨¹íˆëŠ” êµ¬ ê²Œì„\n"

L = 15

# WHAT: ê²½ê¸°ì¥ í…Œë‘ë¦¬
curve(pos=[
    vector(-L,-L,0), vector(L,-L,0),
    vector(L,L,0), vector(-L,L,0),
    vector(-L,-L,0)],
    color=color.white)

# WHAT: í”Œë ˆì´ì–´ â€” í•˜ëŠ˜ìƒ‰ êµ¬
player = sphere(pos=vector(0,0,0),
    radius=0.5,
    color=color.cyan)

speed = 0.2
score = 0
game_over = False
```

ë¨¹ì´ ìƒì„± í•¨ìˆ˜ì™€ 30ê°œ ë¨¹ì´ë¥¼ ë¿Œë¦½ë‹ˆë‹¤.

```python
# WHAT: ë¨¹ì´ ë¦¬ìŠ¤íŠ¸ì™€ ìƒì„± í•¨ìˆ˜
# WHY: ë¨¹ìœ¼ë©´ ìƒˆ ìœ„ì¹˜ë¡œ ë¦¬ìŠ¤í°í•´ì•¼ í•˜ë¯€ë¡œ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬
foods = []

def create_food():
    f = sphere(
        pos=vector(
            random()*2*L - L,
            random()*2*L - L, 0),
        radius=0.15,
        color=vector(
            random(), random(), random()))
    foods.append(f)

for i in range(30):
    create_food()
```

ì  ìƒì„± í•¨ìˆ˜ì™€ 5ë§ˆë¦¬ ì ì„ ë°°ì¹˜í•©ë‹ˆë‹¤.

```python
# WHAT: ì  ë¦¬ìŠ¤íŠ¸ì™€ ìƒì„± í•¨ìˆ˜
# WHY: ì ë§ˆë‹¤ í¬ê¸°ì™€ ì´ë™ ë°©í–¥ì´ ë‹¤ë¥´ë‹¤
enemies = []
enemy_dirs = []

def create_enemy():
    e = sphere(
        pos=vector(
            random()*2*L - L,
            random()*2*L - L, 0),
        radius=0.3 + random()*0.7,
        color=vector(
            random()*0.5 + 0.5,
            random()*0.3,
            random()*0.3))
    enemies.append(e)
    dx = random()*0.1 - 0.05
    dy = random()*0.1 - 0.05
    enemy_dirs.append(vector(dx, dy, 0))

for i in range(5):
    create_enemy()
```

ì ìˆ˜ ë¼ë²¨ê³¼ ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```python
# WHAT: ì ìˆ˜ í‘œì‹œ
score_label = label(
    pos=vector(0, L+2, 0),
    text='ì ìˆ˜: 0',
    height=18,
    color=color.white,
    box=False)

# WHAT: ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼
# WHY: ê²Œì„ ì˜¤ë²„ í›„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ
def restart(b):
    global game_over, score
    game_over = False
    score = 0
    player.radius = 0.5
    player.pos = vector(0,0,0)
    player.color = color.cyan
    score_label.text = 'ì ìˆ˜: 0'
    for i in range(len(enemies)):
        enemies[i].visible = True
        enemies[i].pos = vector(
            random()*2*L - L,
            random()*2*L - L, 0)

button(text="ë‹¤ì‹œ ì‹œì‘", bind=restart)
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ë©”ì¸ ë£¨í”„ì…ë‹ˆë‹¤.

```python
# WHAT: ë©”ì¸ ë£¨í”„
while True:
    rate(60)

    # ê²Œì„ ì˜¤ë²„ë©´ ë©ˆì¶¤
    if game_over:
        score_label.text = 'ê²Œì„ ì˜¤ë²„! ì ìˆ˜: ' + str(score)
        continue

    # WHAT: í‚¤ë³´ë“œ ì´ë™
    keys = keysdown()
    if 'd' in keys or 'right' in keys:
        player.pos.x += speed
    if 'a' in keys or 'left' in keys:
        player.pos.x -= speed
    if 'w' in keys or 'up' in keys:
        player.pos.y += speed
    if 's' in keys or 'down' in keys:
        player.pos.y -= speed

    # WHAT: ê²½ê³„ ì²´í¬
    if player.pos.x > L: player.pos.x = L
    if player.pos.x < -L: player.pos.x = -L
    if player.pos.y > L: player.pos.y = L
    if player.pos.y < -L: player.pos.y = -L

    # WHAT: ë¨¹ì´ ì¶©ëŒ â†’ ì„±ì¥
    for f in foods:
        dist = mag(player.pos - f.pos)
        if dist < player.radius + f.radius:
            player.radius += 0.02
            score += 1
            score_label.text = 'ì ìˆ˜: ' + str(score)
            f.pos = vector(
                random()*2*L - L,
                random()*2*L - L, 0)

    # WHAT: ì  ì´ë™ + ë²½ ë°˜ì‚¬
    for i in range(len(enemies)):
        if not enemies[i].visible:
            continue
        enemies[i].pos += enemy_dirs[i]
        if abs(enemies[i].pos.x) > L:
            enemy_dirs[i].x = -enemy_dirs[i].x
        if abs(enemies[i].pos.y) > L:
            enemy_dirs[i].y = -enemy_dirs[i].y

    # WHAT: ì  ì¶©ëŒ â†’ í¬ê¸° ë¹„êµ
    # WHY: í° ìª½ì´ ì‘ì€ ìª½ì„ ë¨¹ëŠ” í•µì‹¬ ê·œì¹™
    for i in range(len(enemies)):
        if not enemies[i].visible:
            continue
        dist = mag(player.pos - enemies[i].pos)
        if dist < player.radius + enemies[i].radius:
            if player.radius > enemies[i].radius:
                player.radius += enemies[i].radius * 0.2
                enemies[i].visible = False
                score += 10
                score_label.text = 'ì ìˆ˜: ' + str(score)
            else:
                game_over = True
                player.color = color.red
```

<div class="glowscript-demo" markdown>
<div class="demo-label">ì‹¤í–‰ ê²°ê³¼ â€” WASDë¡œ ì›€ì§ì´ë©° ë¨¹ì´ë¥¼ ë¨¹ê³  ì ì„ í”¼í•˜ì„¸ìš”!</div>
<iframe src="../demos/ch15b_final.html"></iframe>
</div>

??? success "ì‹¤í–‰ ê²°ê³¼"

    ì–´ë‘ìš´ ê²½ê¸°ì¥ì— í•˜ëŠ˜ìƒ‰ í”Œë ˆì´ì–´ êµ¬ê°€ ì¤‘ì•™ì— ìˆê³ , ì•Œë¡ë‹¬ë¡í•œ ë¨¹ì´ 30ê°œì™€ ë¶‰ì€ ê³„ì—´ì˜ ì  5ë§ˆë¦¬ê°€ ë³´ì…ë‹ˆë‹¤.

    WASDë¡œ ì›€ì§ì´ë©° ë¨¹ì´ë¥¼ ë¨¹ìœ¼ë©´ ì ìˆ˜ê°€ ì˜¤ë¥´ê³  í”Œë ˆì´ì–´ê°€ ì¡°ê¸ˆì”© ì»¤ì§‘ë‹ˆë‹¤. ì‘ì€ ì ì„ ë§Œë‚˜ë©´ ë¨¹ì–´ì„œ í•œë²ˆì— 10ì ! í•˜ì§€ë§Œ ë‚˜ë³´ë‹¤ í° ì ì„ ë§Œë‚˜ë©´... ê²Œì„ ì˜¤ë²„.

    "ë‹¤ì‹œ ì‹œì‘" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë„ì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ’¡ ì—…ê·¸ë ˆì´ë“œ ì•„ì´ë””ì–´

### ì ë„ ë¨¹ì´ë¥¼ ë¨¹ê³  ì„±ì¥

í˜„ì¬ ì ì€ í¬ê¸°ê°€ ê³ ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì ë„ ë¨¹ì´ë¥¼ ë¨¹ìœ¼ë©´ ì»¤ì§€ê²Œ í•˜ë©´ í›¨ì”¬ ê¸´ì¥ê°ì´ ìƒê¹ë‹ˆë‹¤!

```python
    # ì ë„ ë¨¹ì´ë¥¼ ë¨¹ëŠ”ë‹¤
    for i in range(len(enemies)):
        if not enemies[i].visible:
            continue
        for f in foods:
            dist = mag(enemies[i].pos - f.pos)
            if dist < enemies[i].radius:
                enemies[i].radius += 0.01
                f.pos = vector(
                    random()*2*L - L,
                    random()*2*L - L, 0)
```

### í”Œë ˆì´ì–´ ê¶¤ì  ë‚¨ê¸°ê¸°

í”Œë ˆì´ì–´ê°€ ì§€ë‚˜ê°„ ìë¦¬ì— ê¶¤ì ì„ ë‚¨ê¸°ë©´ ë©‹ì§‘ë‹ˆë‹¤.

```python
player = sphere(pos=vector(0,0,0),
    radius=0.5,
    color=color.cyan,
    make_trail=True,
    trail_type="points",
    interval=10,
    retain=30)
```

### ìŠ¬ë¼ì´ë”ë¡œ ë‚œì´ë„ ì¡°ì ˆ

ì ì˜ ì†ë„ë¥¼ ìŠ¬ë¼ì´ë”ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆê²Œ í•˜ë©´ ë‚œì´ë„ ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```python
difficulty = 1

def set_difficulty(s):
    global difficulty
    difficulty = s.value

slider(min=0.5, max=3, value=1,
    bind=set_difficulty)
wtext(text="  ë‚œì´ë„")
```

ë©”ì¸ ë£¨í”„ì—ì„œ ì  ì´ë™í•  ë•Œ `enemy_dirs[i] * difficulty`ë¥¼ ê³±í•˜ë©´ ë©ë‹ˆë‹¤.

### ì  ì¶”ê°€ ìƒì„± ë²„íŠ¼

ê²Œì„ ë„ì¤‘ ì ì„ ë” ì¶”ê°€í•˜ëŠ” ë²„íŠ¼ìœ¼ë¡œ ìŠ¤ë¦´ì„ ë†’ì—¬ ë³´ì„¸ìš”!

```python
def add_enemy(b):
    create_enemy()

button(text="ì  ì¶”ê°€!", bind=add_enemy)
```

---

## âœ… 3ì¤„ ì •ë¦¬

1. `keysdown()`ìœ¼ë¡œ ì‹¤ì‹œê°„ ì´ë™, `mag()`ë¡œ ì¶©ëŒ ê°ì§€ â€” Ch.8ê³¼ Ch.9ê°€ ê²Œì„ì˜ í•µì‹¬ ì—”ì§„ì´ ë©ë‹ˆë‹¤
2. `if player.radius > enemy.radius` í•œ ì¤„ì´ "ë¨¹ê¸° vs ë¨¹íˆê¸°"ë¥¼ ê²°ì •í•©ë‹ˆë‹¤ â€” **ì¡°ê±´ë¬¸ì€ ê²Œì„ì˜ ê·œì¹™ì„ ì½”ë“œë¡œ í‘œí˜„í•˜ëŠ” ë„êµ¬**ì…ë‹ˆë‹¤
3. `visible = False`ë¡œ ë¨¹íŒ ì ì„ ìˆ¨ê¸°ê³ , ë²„íŠ¼ì˜ `restart` í•¨ìˆ˜ë¡œ ëª¨ë“  ìƒíƒœë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤ â€” **ê²Œì„ ìƒíƒœ ê´€ë¦¬**ê°€ ì™„ì„±ë„ë¥¼ ë§Œë“­ë‹ˆë‹¤
