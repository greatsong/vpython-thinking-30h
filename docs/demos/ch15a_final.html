<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { width: 100%; height: 100%; overflow: hidden; }
  .glowscript { width: 100% !important; padding: 0 !important; margin: 0 !important; }
  div > canvas { display: block; }
</style>
<script src="keyboard-passthrough.js"></script>
</head>
<body>
<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--
;(function() {
function __main__() {
    var scene = canvas();
    scene.width = window.innerWidth;
    scene.height = window.innerHeight - 90;
    scene.background = color.black;

    var sun = sphere({pos: vec(0,0,0), radius: 1.5, color: color.yellow, emissive: true});

    var planets = [];
    var angles = [];
    var dists = [3, 5, 7, 10];
    var sizes = [0.2, 0.35, 0.4, 0.3];
    var cols = [color.red, color.green, color.cyan, color.orange];
    var speeds = [0.03, 0.02, 0.015, 0.01];

    for (var i = 0; i < 4; i++) {
        var p = sphere({pos: vec(dists[i],0,0), radius: sizes[i], color: cols[i], make_trail: true});
        planets.push(p);
        angles.push(0);
    }

    var speed_factor = 1;

    function set_speed(s) {
        speed_factor = s.value;
    }

    slider({min: 0.1, max: 5, value: 1, bind: set_speed});
    wtext({text: "  시간 속도  "});

    function do_reset(b) {
        for (var i = 0; i < planets.length; i++) {
            angles[i] = 0;
            planets[i].clear_trail();
        }
    }

    button({text: "리셋", bind: do_reset});

    label({pos: vec(0,8,0), text: '나의 태양계', height: 20, color: color.white, box: false});

    async function anim() {
        while (true) {
            await rate(60);
            for (var i = 0; i < planets.length; i++) {
                angles[i] += speeds[i] * speed_factor;
                var r = dists[i];
                planets[i].pos = vec(r * Math.cos(angles[i]), 0, r * Math.sin(angles[i]));
            }
        }
    }
    anim();
}
;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()

//--><!]]></script>
</div>
</body>
</html>