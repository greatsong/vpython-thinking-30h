<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--
;(function() {
function __main__() {
    var scene = canvas();

    // 공 20개 + 개별 속도 생성
    var balls = [];
    var vels_x = [];
    var vels_y = [];

    for (var i = 0; i < 20; i++) {
        var x = Math.random() * 8 - 4;
        var y = Math.random() * 4 - 2;
        var c = vec(Math.random() * 0.7 + 0.3, Math.random() * 0.7 + 0.3, Math.random() * 0.7 + 0.3);
        var ball = sphere({pos: vec(x, y, 0), radius: 0.3, color: c});
        balls.push(ball);
        vels_x.push(Math.random() * 0.16 - 0.08);
        vels_y.push(Math.random() * 0.16 - 0.08);
    }

    // 애니메이션 루프 — 모든 공을 움직이고 벽에 튕기기
    async function anim() {
        while (true) {
            await rate(60);
            for (var i = 0; i < balls.length; i++) {
                balls[i].pos.x += vels_x[i];
                balls[i].pos.y += vels_y[i];
                if (Math.abs(balls[i].pos.x) > 5) vels_x[i] = -vels_x[i];
                if (Math.abs(balls[i].pos.y) > 3) vels_y[i] = -vels_y[i];
            }
        }
    }
    anim();
}
;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()

//--><!]]></script>
</div>
